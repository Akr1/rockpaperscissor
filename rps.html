<!DOCTYPE html>
<html>

<head>
  <title>Rock Paper Scissors</title>
  <meta charset="UTF-8" />
</head>

<body>
  <button id="rock">Rock</button>
  <button id="paper">Paper</button>
  <button id="scissors">Scissors</button>
  <script>
    //Randomly returns the computer's choice for
    //Rock Paper Scissors
    function computerPlay() {
      let randInt = Math.floor(Math.random() * 3);
      let choice;
      switch (randInt) {
        case 0:
          choice = "rock"
          break;
        case 1:
          choice = "paper"
          break;
        case 2:
          choice = "scissors"
          break;
      }
      return choice;
    }

    //Plays a round of rock paper scissors
    function playRound(playerChoice, computerChoice) {
      let result = "computer"
      if ((playerChoice == "rock" && computerChoice == "scissors") ||
        (playerChoice == "paper" && playerChoice == "rock") ||
        (playerChoice == "scissors" && computerChoice == "paper")) {
        result = "player"
      } else if (playerChoice == computerChoice) {
        result = "draw"
      }
      return result
    }

    function game() {
      let computerScore = 0;
      let humanScore = 0;
      let output;
      for (i = 0; i < 5; i++) {
        let playerChoice = getPlayerChoice();
        let computerChoice = computerPlay();
        result = playRound(playerChoice, computerChoice);
        switch (result) {
          case "computer":
            computerScore++;
            break;
          case "player":
            humanScore++;
            break;
          case "default":
            break;
        }
      }

      if (humanScore > computerScore) {
        output = "Congrat! You won with a score of: " + humanScore;
      } else if (humanScore == computerScore) {
        output = "Its a draw! Both of you scored: " + humanScore;
      } else {
        output = "The computer won. You lost with a score of: " + humanScore;
      }

      return output
    }

    //Helper functions

    //Helper function to capitalize the first letter of a string
    function getPlayerChoice() {
      let valid = 0
      let playerChoice;
      while (valid == 0) {
        playerChoice = prompt("Please enter one of the following options: Rock, Paper, or Scissors")
        if (typeof playerChoice == "string") {
          playerChoice = playerChoice.toLowerCase();
          valid = playerChoice == "rock" || playerChoice == "paper" || playerChoice == "scissors" || 0
        }
      }
      return playerChoice
    }

    //Temporary variables for testing
    //console.log(game())
  </script>
</body>

</html>